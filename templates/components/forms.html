{% macro input(name, label, type='text', value=None, attrs=None, error=None) %}
{% set attrs = attrs or {} %}
<div class="mb-3">
  <label class="form-label" for="{{ attrs.get('id', name) }}">{{ label }}</label>
  <input class="form-control{% if error %} is-invalid{% endif %}" type="{{ type }}" name="{{ name }}"{% if value is not none and value != '' %} value="{{ value }}"{% endif %} {{ attrs|xmlattr }}>
  {% if error %}
  <div class="invalid-feedback">{{ error }}</div>
  {% endif %}
</div>
{% endmacro %}

{% macro text_input(name, label, value=None, attrs=None, error=None) %}
  {{ input(name, label, type='text', value=value, attrs=attrs, error=error) }}
{% endmacro %}

{% macro email_input(name, label, value=None, attrs=None, error=None) %}
  {{ input(name, label, type='email', value=value, attrs=attrs, error=error) }}
{% endmacro %}

{% macro password_input(name, label, attrs=None, error=None) %}
{% set attrs = attrs or {} %}
<div class="mb-3">
  <label class="form-label" for="{{ attrs.get('id', name) }}">{{ label }}</label>
  <div class="input-group">
    <input class="form-control{% if error %} is-invalid{% endif %}" type="password" name="{{ name }}" {{ attrs|xmlattr }}>
    <button type="button" class="btn btn-outline-secondary password-toggle" tabindex="-1">
      <i class="bi bi-eye"></i>
    </button>
  </div>
  {% if error %}
  <div class="invalid-feedback">{{ error }}</div>
  {% endif %}
</div>
{% endmacro %}

{% macro file_input(name, label, attrs=None, error=None) %}
{% set attrs = attrs or {} %}
<div class="mb-3">
  <label class="form-label" for="{{ attrs.get('id', name) }}">{{ label }}</label>
  <input class="form-control{% if error %} is-invalid{% endif %}" type="file" name="{{ name }}" {{ attrs|xmlattr }}>
  {% if error %}
  <div class="invalid-feedback">{{ error }}</div>
  {% endif %}
</div>
{% endmacro %}
