{% extends 'base.html' %}
{% block title %}Theme Debug{% endblock %}
{% block content %}
<h1>Theme Debug</h1>
<p class="mb-3">Use the navbar toggle to switch themes. The tests below update live.</p>
<ul id="debug-results" class="list-group"></ul>
{% endblock %}
{% block scripts %}
{{ super() }}
<script>
function report(){
  const list = document.getElementById('debug-results');
  list.innerHTML = '';
  const theme = document.documentElement.dataset.bsTheme;
  const meta = document.querySelector('meta[name="theme-color"]').content;
  const items = [
    'data-bs-theme: ' + theme,
    'localStorage.theme: ' + localStorage.getItem('theme'),
    'cookie theme: ' + (document.cookie.match(/theme=([^;]+)/) || [])[1],
    'meta theme-color: ' + meta
  ];
  items.forEach(t => {
    const li = document.createElement('li');
    li.className = 'list-group-item';
    li.textContent = t;
    list.appendChild(li);
  });
}
window.addEventListener('DOMContentLoaded', report);
window.addEventListener('themechange', report);
</script>
{% endblock %}
