<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://example.com/bpmn">
  <bpmn:process id="ForgotPassword" isExecutable="false">
    <bpmn:startEvent id="start" name="Request">
      <bpmn:outgoing>Flow_0</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="EnterEmail" name="Enter Identifier">
      <bpmn:incoming>Flow_0</bpmn:incoming>
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="GenerateOTP" name="Generate &amp; Store OTP">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="SendEmail" name="Send Email">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:intermediateCatchEvent id="Cooldown" name="Cooldown">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
      <bpmn:timerEventDefinition/>
    </bpmn:intermediateCatchEvent>
    <bpmn:userTask id="EnterCode" name="Enter Code">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="CodeValid" name="Code Valid?">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
      <bpmn:outgoing>Flow_7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="ResetPassword" name="Reset Password">
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndSuccess" name="Success">
      <bpmn:incoming>Flow_8</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="EndFailure" name="Failure">
      <bpmn:incoming>Flow_7</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0" sourceRef="start" targetRef="EnterEmail"/>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="EnterEmail" targetRef="GenerateOTP"/>
    <bpmn:sequenceFlow id="Flow_2" sourceRef="GenerateOTP" targetRef="SendEmail"/>
    <bpmn:sequenceFlow id="Flow_3" sourceRef="SendEmail" targetRef="Cooldown"/>
    <bpmn:sequenceFlow id="Flow_4" sourceRef="Cooldown" targetRef="EnterCode"/>
    <bpmn:sequenceFlow id="Flow_5" sourceRef="EnterCode" targetRef="CodeValid"/>
    <bpmn:sequenceFlow id="Flow_6" sourceRef="CodeValid" targetRef="ResetPassword"/>
    <bpmn:sequenceFlow id="Flow_7" sourceRef="CodeValid" targetRef="EndFailure"/>
    <bpmn:sequenceFlow id="Flow_8" sourceRef="ResetPassword" targetRef="EndSuccess"/>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="ForgotPassword">
      <bpmndi:BPMNShape id="Shape_start" bpmnElement="start">
        <dc:Bounds x="100" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EnterEmail" bpmnElement="EnterEmail">
        <dc:Bounds x="180" y="80" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_GenerateOTP" bpmnElement="GenerateOTP">
        <dc:Bounds x="320" y="80" width="120" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_SendEmail" bpmnElement="SendEmail">
        <dc:Bounds x="480" y="80" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Cooldown" bpmnElement="Cooldown">
        <dc:Bounds x="620" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EnterCode" bpmnElement="EnterCode">
        <dc:Bounds x="700" y="80" width="100" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_CodeValid" bpmnElement="CodeValid">
        <dc:Bounds x="840" y="100" width="50" height="50"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ResetPassword" bpmnElement="ResetPassword">
        <dc:Bounds x="930" y="80" width="120" height="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EndSuccess" bpmnElement="EndSuccess">
        <dc:Bounds x="1080" y="100" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EndFailure" bpmnElement="EndFailure">
        <dc:Bounds x="900" y="200" width="36" height="36"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0_di" bpmnElement="Flow_0">
        <di:waypoint x="136" y="118"/>
        <di:waypoint x="180" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="280" y="118"/>
        <di:waypoint x="320" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="440" y="118"/>
        <di:waypoint x="480" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="580" y="118"/>
        <di:waypoint x="620" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="656" y="118"/>
        <di:waypoint x="700" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="800" y="118"/>
        <di:waypoint x="840" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="890" y="125"/>
        <di:waypoint x="930" y="118"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="865" y="150"/>
        <di:waypoint x="918" y="200"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="1050" y="118"/>
        <di:waypoint x="1080" y="118"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
